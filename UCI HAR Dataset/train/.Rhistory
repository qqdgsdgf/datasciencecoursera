df<-dat$X.4
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",skip=4)
names(dat)
str(dat)
df<-dat$X.4
gsub(",","",df)
View(dat)
help("read.csv")
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",skip=4,nrows = 231)
View(dat)
names(dat)
str(dat)
df<-dat$X.4
dat$X.4<-as.character(df)
gsub(",","",df)
str_trim(df)
df<-as.numeric(df)
mean(df,na.rm = T)
View(dat)
df
View(dat)
str(dat)
df<-dat$X.4
dat$X.4<-as.character(df)
gsub(",","",df)
str_trim(df)
gsub(",","",df)
df<-dat$X.4
dat$X.4<-as.character(df)
gsub(",","",df)
str_trim(df)
df<-dat$X.4
df<-as.character(df)
gsub(",","",df)
str_trim(df)
df<-as.numeric(df)
df
df<-dat$X.4
df<-as.character(df)
gsub(",","",df)
str_trim(df)
df<-as.numeric(df)
df<-as.character(df)
df<-dat$X.4
df<-as.character(df)
str_trim(df)
gsub(",","",df)
gstr_trim(df)
gstr_trim(df)
str_trim(df)
View(dat)
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",skip=4,nrows = 190)
names(dat)
str(dat)
df<-dat$X.4
df<-as.character(df)
gstr_trim(df)
sub(",","",df)
str_trim(df)
df<-as.numeric(df)
mean(df,na.rm = T)
mean(df,na.rm = T)
remove(list=ls())
df1<-data.frame(x=c("a z c d","bb cc dd","ccc eee"),y=1:3);
df2<-data.frame(x=c("a","bb","eee","c"));
View(df1)
View(df2)
str(df2)
str(df1)
as.character(df$x)
df2$x[1] %in% df1$x[1]
View(df2)
View(df1)
df2$x[1]
View(df1)
View(df2)
df2$x
df2$x[1]
as.character(df2$x)
df2$x<-as.character(df2$x)
df1$x<-as.character(df1$x)
str(df1)
for (i in df2$x) {
a
}
1
for (i in df2$x) {
1
}
View(df2)
df2$x
df2$x[1]
df2$x[1] %in% df1$x[1]
df1$x[1]
df1$x<-strsplit(as.character(df1$x)," ")
df2$x<-strsplit(as.character(df2$x)," ")
df2$x[1] %in% df1$x[1]
df1$x[1]
df2$x[1]
df2$x
for (i in df2$x) {
for (j in df1$x) {
if (i %in% j) {
df2$temp[i]<-df1$y[j]
}
}
}
View(df1)
View(df2)
length(df2$x)
if (df$x[i] %in% df$x[j]) {
df2$temp[i]<-df1$y[j]
}
if (df2$x[i] %in% df1$x[j]) {
df2$temp[i]<-df1$y[j]
}
for (i in length(df2$x)) {
for (j in length(df1$x) {
if (df2$x[i] %in% df1$x[j]) {
df2$temp[i]<-df1$y[j]
}
}
}
for (i in 1:length(df2$x)) {
for (j in 1:length(df1$x) {
if (df2$x[i] %in% df1$x[j]) {
df2$temp[i]<-df1$y[j]
}
}
}
ifelse (df2$x[i] %in% df1$x[j],df2$temp[i]<-df1$y[j],0)
df2$x
df2$x[1]
df2$x[1] %in% df1$x[1]
df1$x[1]
df2$x[1]
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",skip=4,nrows = 190)
names(dat)
str(dat)
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",skip=4,nrows = 236)
View(dat)
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",
skip=4,nrows = 231,
col.names = c("country_code","ranking","eco","GDP(m)"))
View(dat)
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",
skip=4,nrows = 231,
col.names = c("country_code","ranking","eco","GDP(m)","other"))
str(dat)
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",
skip=4,nrows = 231)
dat<-dat[:,1:4]
dat<-dat[:,c(1:4)]
dat<-dat(:,c(1:4))
dat[:,1]
dat[,1]
dat<-dat[,1:4]
View(dat)
dat<-dat[,1:5]
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",
skip=4,nrows = 231)
dat<-dat[,1:5]
View(dat)
df<-dat$X.4
df<-as.numeric(df)
df
df<-dat$X.4
df
df<-as.character(df)
df
sub(","|".","",df)
sub(".","",df)
sub(",","",df)
gsub(",","",df)
gsub(".","",df)
df<-dat$X.4
df
df<-dat$X.4
df
View(dat)
df<-dat$X.4
df<-as.character(df)
gsub(".","",df)
gsub(",","",df)
df<-dat$X.4
df<-as.character(df)
gsub(",","",df)
str_trim(df)
gsub(",","",df)
str_trim(df)
df
df<-dat$X.4
df<-as.character(df)
df<-gsub(",","",df)
df<-str_trim(df)
df
df<-as.numeric(str_trim(df))
df<-as.numeric(df)
mean(df,na.rm=T)
df
View(dat)
View(dat)
dat <- read.csv("get_and_clean_date_week4_quiz_2.csv",
skip=4,nrows = 190)
dat<-dat[,1:5]
df<-dat$X.4
df<-as.character(df)
df<-gsub(",","",df)
df<-str_trim(df)
df<-as.numeric(df)
mean(df,na.rm=T)
grep("^United",countryNames)
grep("^United",dat$X.3)
View(dat)
View(dat)
str(df$X.3[90])
str(dat$X.3[90])
dat$X.3[90]
str(dat$X.3[99,4])
dat$X.3[99,4]
dat$X.3[99]
str(dat$X.3[99])
dat$X.3<-as.character(dat$X.3)
grep("^United",dat$X.3)
table(grep("^United",dat$X.3))
grep("^United",dat$X.3)
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
download.file(url,destfile = "get_and_clean_date_week4_quiz_4.csv",method = "curl")
if (!file.exists("get_and_clean_date_week4_quiz_4.csv")) {
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
download.file(url,destfile = "get_and_clean_date_week4_quiz_4.csv",method = "curl")
}
dat2 <- read.csv("get_and_clean_date_week4_quiz_4.csv")
View(dat2)
names(dat2)
View(dat)
setnames(dat, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP",
"Long.Name", "gdp"))
names(dat)=c("Country_code","rankingGDP","other", "Long.Name", "gdp")
View(dat)
View(dat2)
if (!file.exists("get_and_clean_date_week4_quiz_4.csv")) {
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
download.file(url,destfile = "get_and_clean_date_week4_quiz_4.csv",method = "curl")
}
if (!file.exists("get_and_clean_date_week4_quiz_4.csv")) {
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
download.file(url,destfile = "get_and_clean_date_week4_quiz_4.csv",method = "curl")
}
if (!file.exists("get_and_clean_date_week4_quiz_4.csv")) {
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
download.file(url,destfile = "get_and_clean_date_week4_quiz_4.csv",method = "curl")
}
if (!file.exists("get_and_clean_date_week4_quiz_4.csv")) {
url <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
download.file(url,destfile = "get_and_clean_date_week4_quiz_4.csv",method = "curl")
}
dat2 <- read.csv("get_and_clean_date_week4_quiz_4.csv")
merge_df<-(dat1,dat2,all=True,by=c("CountryCode"))
merge_df<-(dat,dat2,all=True,by=c("CountryCode"))
merge_df<-(dat,dat2,all=True,by=c("CountryCode"))
merge_df<-merge(dat,dat2,all=True,by=c("CountryCode"))
View(dat)
View(dat2)
View(dat)
names(dat)=c("CountryCode","RankingGDP","other", "Long.Name", "gdp")
merge_df<-merge(dat,dat2,all=True,by=c("CountryCode"))
merge_df<-merge(dat,dat2,by=c("CountryCode"))
View(merge_df)
names(merge_df)
dt<-merge(dat,dat2,by=c("CountryCode"))
isFiscalYearEnd <- grepl("fiscal year end", tolower(dt$Special.Notes))
isJune <- grepl("june", tolower(dt$Special.Notes))
table(isFiscalYearEnd, isJune)
View(dat2)
# q5
library(quantmod)
# q5
install.packages("quantmod")
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
View(amzn)
View(amzn)
str(amzn)
str(amzn)
index(amzn)
weekdays(index(amzn))
## %a means abbreviated weekday %A
## %b means abbreviated month %B
weekdays(d)
d<-Sys.Date()
format(d, "%a %b %d")
## %a means abbreviated weekday %A
## %b means abbreviated month %B
weekdays(d)
table(weekdays(index(amzn))="Monday")
table(weekdays(index(amzn))=="Monday")
y<-year(index(amzn))==2012
table(y)
table(weekdays(y))
y<-year(index(amzn)==2012)
y<-year(index(amzn))==2012
table(weekdays(index(amzn))=="Monday"
table(weekdays(index(amzn))=="Monday" and year(index(amzn))==2012)
table(weekdays(index(amzn))=="Monday"&year(index(amzn))==2012)
library(jsonlite)
jsonData<-fromJSON("http://api/github.com/users/jtleek/repos)
jsonData<-fromJSON("http://api/github.com/users/jtleek/repos")
jsonData<-fromJSON("https://api/github.com/users/jtleek/repos")
jsonData<-fromJSON("https://api.github.com/users/jtleek/repos")
names(jsonData)
names(jsonData$owner)
jsonData$owner$login
myjson<-toJSON(iris,pretty=T
myjson<-toJSON(iris,pretty=T)
myjson<-toJSON(iris,pretty=TRUE)
cat(myjson)
iris2<-fromJSON(myjson)
head(iris2)
## data.table
library(data.table)
df<-data,frame(x=rnorm(9),y=rep(c("a","b","c"),each=3),z=rnorm(9))
## data.table
library(data.table)
df<-data.frame(x=rnorm(9),y=rep(c("a","b","c"),each=3),z=rnorm(9))
dt<-data.table(x=rnorm(9),y=rep(c("a","b","c"),each=3),z=rnorm(9))
head(df,3)
head(dt,3)
tables()
### subset
dt[2,]
dt[dt$y=="a",]
df[c(2,3)]
dt[c(2,3)]
df[c(2,3)]
dt[,c(2,3)]
### calculates values for variables
dt[,list(mean(x),sum(z))]
### add new col
dt[,w:=z^2]
### multiple operation
dt[,m:={temp<-(x+z); log2(tmp+5)}]
### multiple operation
dt[,m:={tmp<-(x+z); log2(tmp+5)}]
dt
setkey(dt,x)
### keys
dt<-data.table(x=rep(c("a","b"),each=20),y=rpois(40,2))
setkey(dt,x)
dt['a']
### fast reading
big_df<-data.frame(x=rnorm(1E6))
file<-tempfile
write.table(big_df,file=file,row.names=FALSE,col.names=TRUE)
system.time(fread(file))
write.table(big_df,file=file,row.names=FALSE,col.names=TRUE)
file<-tempfile()
write.table(big_df,file=file,row.names=FALSE,col.names=TRUE)
system.time(fread(file))
### fast reading
big_df<-data.frame(x=rnorm(1E7))
file<-tempfile()
write.table(big_df,file=file,row.names=FALSE,col.names=TRUE)
system.time(fread(file))
system.time(read.table(file,header=TRUE))
## 1. vector
c(1:5)
c(TRUE,2)
## 2. matrice
m<-matrix(nrow=2,ncol=3)
dim(m)
attributes(m)
m<-matrix(1:6,nrow=2,ncol=3)
matrix(1:6,nrow=2,ncol=3)
x<-1:3
y<-20:22
cbind(x,y)
rbind(x,y)
## 3.lists
x<-list(1,"a",TRUE,1+4i)
x
## 4.factor
x<-factor(c("yes","no","no","yes"))
table(x)
setwd(/users/yun/datasciencecoursera/R_notes)
setwd("/users/yun/datasciencecoursera/R_notes")
setwd("/users/yun/datasciencecoursera/R_notes")
if (!file.exists("get_and_clean_data_week1_quiz_1.csv")) {
url_1 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
download.file(url,destfile = "get_and_clean_data_week1_quiz_1.csv",method = "curl")
url_2 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FPUMSDataDict06.pdf"
download.file(url,destfile = "get_and_clean_data_week1_quiz_1.pdf",method = "curl")
}
remove(list=ls())
dat<-read.csv( "get_and_clean_data_week1_quiz_1.csv")
View(dat)
dat<-data.table::fread( "get_and_clean_data_week1_quiz_1.csv")
dat[VAL==24]
dat<-data.table::fread( "get_and_clean_data_week1_quiz_1.csv")
dat[VAL==24]
dat$VAL
View(dat)
names(dat)
View(dat)
View(dat)
dat <- read.csv("get_and_clean_data_week4_quiz_2.csv",
skip=4,nrows = 190)
View(dat)
dat<-dat[,c(1,2,4,5)]
names(dat)=c("CountryCode","RankingGDP", "Long.Name", "gdp")
names(dat)=c("CountryCode","RankingGDP", "Long.Name", "GDP")
df<-dat$GDP
df<-as.character(df)
df<-gsub(",","",df)
df<-str_trim(df)
df<-as.numeric(df)
mean(df,na.rm=T)
# q3
dat$Long.Name<-as.character(dat$Long.Name)
grep("^United",dat$Long.Name)
count(grep("^United",dat$Long.Name))
dat2 <- read.csv("get_and_clean_data_week4_quiz_4.csv")
dt<-merge(dat,dat2,by=c("CountryCode"))
isFiscalYearEnd <- grepl("fiscal year end", tolower(dt$Special.Notes))
isJune <- grepl("june", tolower(dt$Special.Notes))
table(isFiscalYearEnd, isJune)
setwd("/users/yun/datasciencecoursera/R_notes/titanic")
# Load packages
library('ggplot2') # visualization
library('ggthemes') # visualization
library('scales') # visualization
library('dplyr') # data manipulation
library('mice') # imputation
library('randomForest') # classification algorithm
install.packages("mice")
install.packages("randomForest")
train <- read.csv('train.csv', stringsAsFactors = F)
test  <- read.csv('test.csv', stringsAsFactors = F)
View(test)
View(train)
full  <- bind_rows(train, test) # bind training & test data
View(full)
full  <- rbind(train, test) # bind training & test data
View(test)
View(train)
View(test)
View(full)
str(full)
summary(full)
View(full)
View(full)
full$Title <- gsub('(.*, )|(\\..*)', '', full$Name)
View(full)
rep("a","apple hello")
help("rep")
# full$Title <- gsub('(.*, )|(\\..*)', '', full$Name)
full$Title<-grep(M*,full$Name)
View(dat)
View(full)
# full$Title <- gsub('(.*, )|(\\..*)', '', full$Name)
gsub('*,)|(\.*),'',full$Name)
# full$Title <- gsub('(.*, )|(\\..*)', '', full$Name)
gsub('*,)|(\..*),'',full$Name)
# full$Title <- gsub('(.*, )|(\\..*)', '', full$Name)
gsub('*,)|(\..*)','',full$Name)
# full$Title <- gsub('(.*, )|(\\..*)', '', full$Name)
gsub('(*,)|(\..*)','',full$Name)
# full$Title <- gsub('(.*, )|(\\..*)', '', full$Name)
gsub('(.*,)|(\..*)','',full$Name)
table(full$Sex, full$Title)
setwd("/users/yun/datasciencecoursera/R_notes/UCI HAR Dataset")
getwd()
setwd("~/train/Inertial Signals")
setwd("/train/Inertial Signals")
setwd("./train/Inertial Signals")
getwd()
setwd("../train/Inertial Signals")
getwd()
list.files()
s<-0
for (i in list.files()) {
s=s+1
}
name<-grep((^.+)/.,i)
train<-data.frame
train<-data.frame()
for (i in list.files()) {
name<-grep((^.+)/.,i)
train$name<-read.table(i)
}
View(train)
for (i in list.files()) {
name<-sub('.txt','',i)
train$name<-read.table(i)
}
list.files()
name<-sub('.txt','',"body_acc_x_train.txt")
read.table(i)
temp<-read.table(i)
View(temp)
temp<-read.table(i)
View(temp)
setwd("./train/subject_train")
getwd()
setwd("../")
getwd()
read.table("subject_train.txt")
read.table("/Inertial Signals/body_gyro_x_test.txt")
getwd()
read.table("./Inertial Signals/body_gyro_x_test.txt")
read.table("./Inertial Signals/body_gyro_x_train.txt")
